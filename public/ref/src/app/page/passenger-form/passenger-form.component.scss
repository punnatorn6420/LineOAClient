
@font-face {
  font-family: 'DB Ozone X';
  src: url('../../../assets/font/DBOzoneX.woff2') format('woff2'),
       url('../../../assets/font/DBOzoneX.woff') format('woff'),
       url('../../../assets/font/DBOzoneX.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

* {
  font-family: 'DB Ozone X';
}
mat-label {
  font-size: 22px;
  font-weight: 400;
  color: #222;
  font-family: 'DB Ozone X';
}

mat-error {
  font-family: 'DB Ozone X';
  font-size: 18px;
  color: #f44336;
  font-weight: 400;
  padding-right: 20px;
  white-space: nowrap;
}

::ng-deep .mat-mdc-select-value {
  font-size: 22px !important;
  font-weight: 400 !important;
  color: #222 !important;
}
::ng-deep .mat-mdc-form-field-input-control.mat-mdc-form-field-input-control {
  font-size: 22px !important;
  font-weight: 400 !important;
  color: #222 !important;
}
::ng-deep .mat-mdc-option {
  font-size: 22px !important;
  font-weight: 400 !important;
  color: #222 !important;
}

::ng-deep .mat-mdc-form-field {
  --mdc-outlined-text-field-outline-color: #000;
  --mdc-outlined-text-field-hover-outline-color: #000;
  --mdc-outlined-text-field-focus-outline-color: #000;
  --mdc-outlined-text-field-error-outline-color: #f44336;
  --mdc-outlined-text-field-error-hover-outline-color: #f44336;
  --mdc-outlined-text-field-error-focus-outline-color: #f44336;
}

/* บังคับแดงเมื่อมี mat-error แสดง แม้ยังไม่ติดคลาส invalid */
::ng-deep .mat-mdc-form-field:has(.mat-mdc-form-field-error) .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field:has(.mat-mdc-form-field-error) .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field:has(.mat-mdc-form-field-error) .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

::ng-deep .mat-mdc-form-field:has(mat-error) .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field:has(mat-error) .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field:has(mat-error) .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)):hover .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)):hover .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)):hover .mdc-notched-outline__trailing {
  border-color: #000 !important;
}

::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)).mat-focused .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)).mat-focused .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)).mat-focused .mdc-notched-outline__trailing {
  border-color: #000 !important;
}

::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

::ng-deep .mdc-text-field--invalid .mdc-notched-outline__leading,
::ng-deep .mdc-text-field--invalid .mdc-notched-outline__notch,
::ng-deep .mdc-text-field--invalid .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

::ng-deep .mat-mdc-form-field.mat-focused.mat-mdc-form-field-invalid .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field.mat-focused.mat-mdc-form-field-invalid .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field.mat-focused.mat-mdc-form-field-invalid .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid:hover .mdc-notched-outline__leading,
::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid:hover .mdc-notched-outline__notch,
::ng-deep .mat-mdc-form-field.mat-mdc-form-field-invalid:hover .mdc-notched-outline__trailing {
  border-color: #f44336 !important;
}

::ng-deep .mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label {
  color: #f44336 !important;
}

// *

::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)).mat-focused .mdc-floating-label {
  color: #000 !important;
}

::ng-deep .mdc-text-field:not(.mdc-text-field--invalid).mdc-text-field--focused .mdc-floating-label {
  color: #000 !important;
}

// v
::ng-deep .mat-mdc-form-field:not(.mat-mdc-form-field-invalid):not(:has(.mat-mdc-form-field-error)).mat-focused .mat-mdc-select-arrow {
  color: #000 !important;
}

::ng-deep .mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow {
  color: #f44336 !important;
}

// check

::ng-deep .mat-mdc-option-pseudo-checkbox.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal.ng-star-inserted{
  display: none !important;
}

// name
::ng-deep .mdc-list-item__primary-text{
  color: #222 !important;
}


.number-passenger-scroll {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #fff;
  padding-top: 8px;
  padding-bottom: 8px;
  display: flex;
  gap: 16px;
  overflow-x: auto;
  scrollbar-width: none;
  padding: 20px;
  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);
}

.number-passenger-box {
  display: flex;
  align-items: center;
  justify-content: center;
    min-width: 150px;
    text-align: center;
    height: 50px;
    padding: 12px 0;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 8px;
    color: #ccc;
    font-size: 22px;
    font-weight: 400;
    position: relative;
    cursor: pointer;
    transition: all 0.3s ease;
}

.number-passenger-box.active {
  border: 1px solid #FCCD01;
  color: #222;
  background: #FFFAE6;
  font-weight: 400;
}

.number-passenger-box.valid {
  border: 1px solid #4CAF50;
  color: #222;
  background: #ECFDF2;
}

.number-passenger-box.valid.active {
  border: 1px solid #4CAF50;
  color: #222;
  background: #ECFDF2;
  font-weight: 400;
}

.loading-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

.number-passenger-box.invalid {
  border: 1px solid #f44336;
  color: #222;
  background: #ffebee;
}

.number-passenger-box.invalid.active {
  border: 1px solid #f44336;
  color: #222;
  background: #ffcdd2;
  font-weight: 400;
}

.valid-icon {
  position: absolute;
  top: -8px;
  right: -8px;
  background: #4CAF50;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
}

.invalid-icon {
  position: absolute;
  top: -8px;
  right: -8px;
  background: #f44336;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
}

.number-passenger-scroll::-webkit-scrollbar {
  height: 8px;
}
.number-passenger-scroll::-webkit-scrollbar-thumb {
  background: #FFD600;
  border-radius: 4px;
}

.form-passenger-container {
    width: 90%;
    margin: 0 auto;
    margin-top: 20px;
}
@media (min-width: 1050px) {
  .form-passenger-container {
    max-width: 60%;
  }
}

.form-passenger-info {
    display: flex;
    flex-direction: column;
    // background-color: #4CAF50;
    .form-passenger-info-content {
        // background-color: #f44336;
        margin-bottom: -12px;
        // padding-bottom: 100px;
    }
}

.form-passenger-passport {
    display: flex;
    flex-direction: column;
    .form-passenger-passport-content {
        margin-bottom: -12px;
        width: 100%;
        // background-color: #4CAF50;
    }
}
.form-passenger-passport-country {
    display: flex;
    flex-direction: row;
    gap: 16px;
}

.form-passenger-contact {
    display: flex;
    flex-direction: column;
    .form-passenger-contact-phone-content {
        margin-bottom: -12px;
        // background-color: #4CAF50;
    }
    .form-passenger-contact-email-content {
        margin-bottom: -12px;
    }
}
.form-passenger-contact-phone {
    display: flex;
    flex-direction: row;
    flex: 1 50%;
    gap: 16px;
}

::ng-deep .cdk-overlay-pane {
  min-width: 350px !important;
}

.footer-container-background {
  background-color: #fff;
  height: calc(160px + env(safe-area-inset-bottom));
}

.footer-container {
  background-color: #fff;
  border-top: 1px solid #e1e1e1;
  padding-top: 20px;
  padding-bottom: env(safe-area-inset-bottom);
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-top: 20px;
    width: 100%;
}
.footer-container-text {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    font-weight: 700;
    color: #222;
}
.footer-container button {
    width: 90%;
    height: 60px;
    border-radius: 8px;
    margin-top: 20px;
    margin-bottom: 40px;
    font-size: 22px;
    font-family: 'DB Ozone X';
    font-weight: 400;
    color: #222;
}

// เพิ่ม styles สำหรับ validation errors
mat-form-field {
  margin-bottom: 8px;
}

// mat-error {
//   font-size: 12px;
//   color: #f44336;
// }

// ปรับปรุง button styles
button[disabled] {
  background-color: #cccccc !important;
  color: #666666 !important;
  cursor: not-allowed;
}

.yellow-button {
  background-color: #FFD600 !important;
  color: #222 !important; 
  border: 1px solid #222 !important;
}

// Special Assistance Styles
.special-assistance-container {
  margin-top: 20px;
}

.main-assistance-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.yellow-checkbox {
  width: 24px;
  height: 24px;
  border: 1px solid #858585;
  background-color: #FCCD01;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.yellow-checkbox.checked {
  border: 1px solid #FCCD01;
  background-color: #FCCD01;
}

.yellow-checkbox:not(.checked) {
  background-color: white;
}

.yellow-checkbox .checkmark {
  color: white;
  font-weight: bold;
  font-size: 16px;
}

.main-title {
  font-size: 22px;
  font-weight: 700;
  color: #222;
}

.assistance-options {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-left: 10px;
}

.assistance-option {
  display: flex;
  align-items: center;
  gap: 12px;
}

.white-checkbox {
  width: 24px;
  height: 24px;
  border: 1px solid #858585;
  background-color: white;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.white-checkbox.checked {
  background-color: #FCCD01;
  border-color: #FCCD01;
}

.white-checkbox .checkmark {
  color: white;
  font-weight: bold;
  font-size: 14px;
}

.assistance-option span {
  font-size: 20px;
  font-weight: 400;
  color: #222;
}

.contact-info {
  margin-top: 10px;
  color: #f44336;
  font-size: 18px;
  font-weight: 400;
}

.contact-info span {
  color: #f44336;
}

.assistance-option input {
  border: none;
  border-bottom: 1px solid #000;
  outline: none;
  background: transparent;
  width: 200px;
  font-size: 20px;
  font-weight: 400;
  color: #222;
  margin-left: 8px;
}

.assistance-option input::placeholder {
  color: #999;
  font-size: 18px;
}

.next-passenger-button-container {
  display: flex;
  justify-content: center;
  align-items: center;
}
    
.next-passenger-button {
  max-width: 500px;
  background-color: #D2D2D2;
  color: #000000; 
  border: none;
}

.next-passenger-button.yellow-button {
  background-color: #FFD600;
  color: #222;
  border: 1px solid #222;
}

.number-passenger-box.disabled {
  cursor: not-allowed;
  opacity: 0.5;
  pointer-events: none;
}

// Bundle UI styles
.service-bundle-container {
  margin-top: 24px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

// .service-bundle-section {
//   background: #fe4646;
//   // border: 1px solid #E6E6E6;
//   border-radius: 12px;
//   padding: 12px;
// }

.service-bundle-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 22px;
  font-weight: 700;
  color: #222;
  margin-bottom: 8px;
}

.service-bundle-header .muted {
  font-weight: 400;
  color: #8B8B8B;
}

.service-bundle-header .route-text {
  color: #FCCD01;
}

.bundle-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bundle-card {
  display: flex;
  flex-direction: column;
  padding: 0;
  border: 1px solid #E6E6E6;
  border-radius: 12px;
  background: #fff;
  cursor: pointer;
  transition: background-color 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

.bundle-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
}

.bundle-left {
  display: flex;
  align-items: center;
  gap: 12px;
  // ป้องกันข้อความดันไอคอนจนบีบ
  flex: 1 1 auto;
  min-width: 0;
}

.bundle-icon {
  // ขนาดไอคอนคงที่ และไม่ให้โดนบีบหรือยืดผิดสัดส่วน
  width: 56px;
  height: 56px;
  border-radius: 12px;
  background: #FEE88A;
  flex: 0 0 56px; // ไม่ให้ย่อ
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain; // รักษาสัดส่วนรูป
}

.bundle-title {
  font-size: 20px;
  color: #222;
  line-height: 1.2;
  // รองรับชื่อยาว ๆ ไม่ให้ชนราคา
  white-space: normal;
}

.bundle-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
  flex: 0 0 auto;
}

.bundle-price {
  font-size: 22px;
  font-weight: 700;
  color: #222;
  white-space: nowrap; // ราคาไม่ตกรายบรรทัด
}

.bundle-original {
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap; // ราคาเดิมและป้ายส่วนลดไม่ตกรายบรรทัด
}

.bundle-original .strike {
  color: #8B8B8B;
  text-decoration: line-through;
  font-size: 18px;
  // ทำให้เส้นขีดทับเห็นชัด ไม่บังตัวอักษร
  text-decoration-thickness: 1.5px;
  text-decoration-color: #AFAFAF;
}

.bundle-original .discount {
  padding: 2px 8px;
  background: #FEE88A;
  // border: 1px solid #FFD55A;
  border-radius: 8px;
  color: #6C5D00;
  font-size: 16px;
  font-weight: 700;
}

// Active state และรายละเอียด
.bundle-card.active {
  border-color: #FCCD01;
  background: #FFFAE6;
  box-shadow: 0 2px 4px rgba(0,0,0,0.06);
  border-width: 2px;
}

.bundle-divider {
  height: 1px;
  background: #EDEDED;
  margin: 0 16px;
}

.bundle-detail-inline {
  padding: 12px 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

// Collapse animation container
.bundle-detail-collapse {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height 220ms ease, opacity 220ms ease;
}

.bundle-detail-collapse.open {
  max-height: 200px; // เพียงพอสำหรับ 2-3 แถว ถ้ามีมากกว่านี้จะขยายต่อด้วย CSS
  opacity: 1;
}

.detail-row {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 12px;
  font-size: 20px;
  color: #4A4A4A;

  svg {
    width: 30px;
    height: 30px;
  }
}

// .detail-row .bullet {
//   width: 26px;
//   height: 26px;
//   border-radius: 50%;
//   background: transparent;
//   border: 2px solid #6A6A6A;
//   display: inline-flex;
//   // align-items: center;
//   // justify-content: center;
//   color: #6A6A6A;
//   font-weight: 700;
// }

// Open Close Bundle Button
.open-close-bundle-button {
  background-color: #fff2b0;
  color: #000000;
  border-radius: 8px;
  padding: 4px 6px;
  border: none;
  font-size: 18px;
  font-weight: 400;
  margin-bottom: 12px;
}