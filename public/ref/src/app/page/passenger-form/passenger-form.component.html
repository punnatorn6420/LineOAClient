<app-loading *ngIf="isLoading"></app-loading>
<div class="container">
    <app-header></app-header>
    <div class="container-passenger-form">
        <div class="number-passenger-scroll" #passengerScroll>
            <!-- <div *ngFor="let passenger of numberPassengerArray">
                <div class="number-passenger-box" [class.active]="selectedPassenger === passenger"
                    [class.valid]="passengerForms[passenger].valid"
                    [class.invalid]="passengerForms[passenger].invalid && passengerForms[passenger].touched"
                    (click)="selectPassenger(passenger)">
                    {{ 'PASSENGER_NUMBER' | translate }} {{ passenger }}
                </div>
            </div> -->
            <div *ngFor="let passenger of numberPassengerArray">
                <div class="number-passenger-box" #passengerBox [class.active]="selectedPassenger === passenger"
                    [class.valid]="passengerForms[passenger].valid"
                    [class.invalid]="hasInvalidTouchedFields(passenger)"
                    [class.disabled]="!canSelectPassenger(passenger)"
                    (click)="canSelectPassenger(passenger) && selectPassenger(passenger)">
                    {{ 'PASSENGER_NUMBER' | translate }} {{ passenger }}
                </div>
            </div>
        </div>
        <div class="form-passenger-container">
            <!-- <div *ngIf="!currentForm" class="loading-container">
                 <app-loading></app-loading>
            </div> -->
            <form *ngIf="currentForm" [formGroup]="currentForm" (ngSubmit)="validateAndScrollToError()">
                <p style="margin-bottom: 15px; font-weight: 700; font-size: 23px;">{{ 'PASSENGER_INFO' | translate }} <span *ngIf="selectedPassenger !== 1"> {{ selectedPassenger }}</span>
                    <span *ngIf="selectedPassenger === 1"> ({{ 'PASSENGER_INFO_1' | translate }})</span></p>
                <p style="margin-bottom: 20px; font-weight: 400; font-size: 22px;">{{ 'GENERAL_INFORMATION' | translate
                    }}</p>
                <div class="form-passenger-info">
                    <mat-form-field class="form-passenger-info-content" appearance="outline">
                        <mat-label>{{ 'PREFIX' | translate }}</mat-label>
                        <mat-select required formControlName="selectedPrefix">
                            <mat-option *ngFor="let prefix of prefix" [value]="prefix.value">{{ prefix.label
                                }}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="currentForm.get('selectedPrefix')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_PREFIX' | translate }}
                        </mat-error>
                    </mat-form-field>
                    <br>
                    <mat-form-field class="form-passenger-info-content" appearance="outline">
                        <mat-label>{{ 'FIRST_NAME' | translate }}</mat-label>
                        <input matInput required formControlName="firstName">
                        <mat-error *ngIf="currentForm.get('firstName')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_FIRST_NAME' | translate }}
                        </mat-error>
                        <mat-error *ngIf="currentForm.get('firstName')?.hasError('pattern')">
                            {{ 'ERROR_PATTERN_FIRST_NAME' | translate }}
                        </mat-error>
                    </mat-form-field>
                    <br>
                    <mat-form-field class="form-passenger-info-content" appearance="outline">
                        <mat-label>{{ 'MIDDLE_NAME' | translate }}</mat-label>
                        <input matInput formControlName="middleName">
                        <mat-error *ngIf="currentForm.get('middleName')?.hasError('pattern')">
                            {{ 'ERROR_PATTERN_MIDDLE_NAME' | translate }}
                        </mat-error>
                    </mat-form-field>
                    <br>
                    <mat-form-field class="form-passenger-info-content" appearance="outline">
                        <mat-label>{{ 'LAST_NAME' | translate }}</mat-label>
                        <input matInput required formControlName="lastName">
                        <mat-error *ngIf="currentForm.get('lastName')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_LAST_NAME' | translate }}
                        </mat-error>
                        <mat-error *ngIf="currentForm.get('lastName')?.hasError('pattern')">
                            {{ 'ERROR_PATTERN_LAST_NAME' | translate }}
                        </mat-error>
                    </mat-form-field>
                    <br>
                    <mat-form-field class="form-passenger-info-content" appearance="outline">
                        <mat-label>{{ 'BIRTH_DATE' | translate }}</mat-label>
                        <input matInput [matDatepicker]="birthPicker" required formControlName="birthDate" [placeholder]="'BIRTH_DATE_PLACEHOLDER' | translate">
                        <mat-datepicker-toggle matIconSuffix [for]="birthPicker"></mat-datepicker-toggle>
                        <mat-datepicker #birthPicker></mat-datepicker>
                        <mat-error *ngIf="currentForm.get('birthDate')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_BIRTH_DATE' | translate }}
                        </mat-error>
                        <mat-error *ngIf="currentForm.get('birthDate')?.hasError('minAge')">
                            {{ 'ERROR_MIN_AGE' | translate }}
                        </mat-error>
                    </mat-form-field>
                </div>
                <p style="margin-top: 25px; margin-bottom: 25px; font-weight: 400; font-size: 22px;" *ngIf="isInternationalTrip">
                    {{ 'PASSPORT_INFO' | translate }}
                </p>
                
                <div class="form-passenger-passport" *ngIf="isInternationalTrip">
                    <div class="form-passenger-passport-country">
                        <mat-form-field class="form-passenger-passport-content" appearance="outline">
                            <mat-label>{{ 'NATIONALITY' | translate }}</mat-label>
                            <input type="text" aria-label="สัญชาติ" matInput formControlName="nationality"
                                [matAutocomplete]="autoNationality" #natTrigger="matAutocompleteTrigger" (focus)="natTrigger.openPanel()" (blur)="autoSelectIfSingle('nationality')">
                            <mat-autocomplete #autoNationality="matAutocomplete" (closed)="autoSelectIfSingle('nationality')">
                                <mat-option *ngFor="let option of filteredNationalityOptions | async"
                                    [value]="option">{{option}}</mat-option>
                            </mat-autocomplete>
                            <mat-error *ngIf="currentForm.get('nationality')?.hasError('required')">
                                {{ 'ERROR_REQUIRED_NATIONALITY' | translate }}
                            </mat-error>
                            <!-- <mat-error *ngIf="currentForm.get('nationality')?.hasError('pattern')">
                                กรุณาเลือกกรอกภาษาอังกฤษ
                            </mat-error> -->
                            <mat-error *ngIf="currentForm.get('nationality')?.hasError('notFound')">
                                {{ 'ERROR_NOT_FOUND_NATIONALITY' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field class="form-passenger-passport-content" appearance="outline">
                            <mat-label>{{ 'COUNTRY' | translate }}</mat-label>
                            <input type="text" aria-label="ประเทศ" matInput formControlName="country"
                                [matAutocomplete]="autoCountry" #countryTrigger="matAutocompleteTrigger" (focus)="countryTrigger.openPanel()" (blur)="autoSelectIfSingle('country')">
                            <mat-autocomplete #autoCountry="matAutocomplete" (closed)="autoSelectIfSingle('country')">
                                <mat-option *ngFor="let option of filteredCountryOptions | async"
                                    [value]="option">{{option}}</mat-option>
                            </mat-autocomplete>
                            <mat-error *ngIf="currentForm.get('country')?.hasError('required')">
                                {{ 'ERROR_REQUIRED_COUNTRY' | translate }}
                            </mat-error>
                            <!-- <mat-error *ngIf="currentForm.get('country')?.hasError('pattern')">
                                กรุณาเลือกกรอกภาษาอังกฤษ
                            </mat-error> -->
                            <mat-error *ngIf="currentForm.get('country')?.hasError('notFound')">
                                {{ 'ERROR_NOT_FOUND_COUNTRY' | translate }}
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <br>
                    <mat-form-field class="form-passenger-passport-content" appearance="outline">
                        <mat-label>{{ 'PASSPORT_NUMBER' | translate }}</mat-label>
                        <input matInput formControlName="passportNumber">
                        <mat-error *ngIf="currentForm.get('passportNumber')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_PASSPORT' | translate }}
                        </mat-error>
                    </mat-form-field>

                    <br>
                    <mat-form-field class="form-passenger-passport-content" appearance="outline">
                        <mat-label>{{ 'ISSUED_BY' | translate }}</mat-label>
                        <input type="text" aria-label="ออกโดย" matInput formControlName="issuedBy"
                            [matAutocomplete]="autoIssuedBy" #issuedByTrigger="matAutocompleteTrigger" (focus)="issuedByTrigger.openPanel()" (blur)="autoSelectIfSingle('issuedBy')">
                        <mat-autocomplete #autoIssuedBy="matAutocomplete" (closed)="autoSelectIfSingle('issuedBy')">
                            <mat-option *ngFor="let option of filteredIssuedByOptions | async"
                                [value]="option">{{option}}</mat-option>
                        </mat-autocomplete>
                        <mat-error *ngIf="currentForm.get('issuedBy')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_ISSUED_BY' | translate }}
                        </mat-error>
                        <!-- <mat-error *ngIf="currentForm.get('issuedBy')?.hasError('pattern')">
                            กรุณาเลือกกรอกภาษาอังกฤษ
                        </mat-error> -->
                        <mat-error *ngIf="currentForm.get('issuedBy')?.hasError('notFound')">
                            {{ 'ERROR_NOT_FOUND_ISSUED_BY' | translate }}
                        </mat-error>
                    </mat-form-field>
                    <br>
                    <mat-form-field class="form-passenger-passport-content" appearance="outline">
                        <mat-label>{{ 'EXPIRE_DATE' | translate }}</mat-label>
                        <input matInput [matDatepicker]="expirePicker" formControlName="expireDate">
                        <mat-datepicker-toggle matIconSuffix [for]="expirePicker"></mat-datepicker-toggle>
                        <mat-datepicker #expirePicker></mat-datepicker>
                        <mat-error *ngIf="currentForm.get('expireDate')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_EXPIRE_DATE' | translate }}
                        </mat-error>
                        <mat-error *ngIf="currentForm.get('expireDate')?.hasError('pastDate')">
                            {{ 'ERROR_PAST_EXPIRE_DATE' | translate }}
                        </mat-error>
                    </mat-form-field>
                </div>

                <p style="margin-top: 25px; margin-bottom: 25px; font-weight: 400; font-size: 22px;"
                    *ngIf="selectedPassenger === 1">{{ 'CONTACT_INFO' | translate }}</p>
                <div class="form-passenger-contact" *ngIf="selectedPassenger === 1">
                    <div class="form-passenger-contact-phone">
                        <mat-form-field class="form-passenger-contact-phone-content" style="width: 80px;"
                            appearance="outline">
                            <input type="text" aria-label="เบอร์โทรศัพท์" matInput formControlName="dialCode"
                                [matAutocomplete]="autoDialCode" #dialCodeTrigger="matAutocompleteTrigger" (focus)="dialCodeTrigger.openPanel()" placeholder="+66" (blur)="autoSelectIfSingleDialCode()">
                            <mat-autocomplete #autoDialCode="matAutocomplete" (closed)="autoSelectIfSingleDialCode()">
                                <mat-option *ngFor="let option of filteredDialCodeOptions | async"
                                    [value]="extractDialCode(option)">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <img [src]="getFlagUrl(option)" 
                                             [alt]="getDisplayText(option)" 
                                             style="width: 20px; height: 15px; object-fit: cover; border-radius: 2px;">
                                        <span>{{getDisplayText(option)}}</span>
                                    </div>
                                </mat-option>
                            </mat-autocomplete>
                        </mat-form-field>
                        <mat-form-field class="form-passenger-contact-phone-content" style="width: 100%;"
                            appearance="outline">
                            <mat-label>{{ 'PHONE' | translate }}</mat-label>
                            <input matInput required formControlName="phoneNumber" inputmode="numeric" pattern="[0-9]*" (input)="onPhoneNumberInput($event)">
                            <mat-error *ngIf="currentForm.get('phoneNumber')?.hasError('required')">
                                {{ 'ERROR_REQUIRED_PHONE' | translate }}
                            </mat-error>
                            <mat-error *ngIf="currentForm.get('phoneNumber')?.hasError('invalidPhoneByCountry')">
                                {{ 'ERROR_INVALID_PHONE_BY_COUNTRY' | translate }}
                            </mat-error>
                            <!-- <mat-error *ngIf="currentForm.get('phoneNumber')?.hasError('pattern')">
                                {{ 'ERROR_PATTERN_PHONE' | translate }}
                            </mat-error> -->
                        </mat-form-field>
                    </div>
                    <br>
                    <mat-form-field class="form-passenger-contact-email-content" appearance="outline">
                        <mat-label>{{ 'EMAIL' | translate }}</mat-label>
                        <input matInput required formControlName="email">
                        <mat-error *ngIf="currentForm.get('email')?.hasError('required')">
                            {{ 'ERROR_REQUIRED_EMAIL' | translate }}
                        </mat-error>
                        <mat-error *ngIf="currentForm.get('email')?.hasError('email')">
                            {{ 'ERROR_EMAIL' | translate }}
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class="service-bundle-container" *ngIf="canShowBundles && ((visibleOutboundBundles?.length || 0) > 0 || (visibleReturnBundles?.length || 0) > 0)">
                    <div class="service-bundle-outbound" *ngIf="visibleOutboundBundles.length > 0">
                        <div class="service-bundle-header">
                            <span>{{ 'BUNDLE_SELECT' | translate }} <span *ngIf="isRoundTrip()" class="route-text">- {{ 'OUTBOUND' | translate }}</span></span>
                            <span class="muted">| {{ 'OPTIONAL_SERVICE' | translate }}</span>
                        </div>
                        <div class="bundle-list">
                            <div class="bundle-card"
                                *ngFor="let item of visibleOutboundBundles; let i = index"
                                [class.active]="selectedOutboundBundleByPassenger[selectedPassenger] === i"
                                (click)="selectOutboundBundle(i)">
                                <div class="bundle-row">
                                    <div class="bundle-left">
                                        <div class="bundle-icon" [ngClass]="item.icon"></div>
                                        <div class="bundle-title">{{ item.title }}</div>
                                    </div>
                                    <div class="bundle-right">
                                        <div class="bundle-price">{{ item.price | number:'1.2-2' }} THB</div>
                                        <div class="bundle-original">
                                            <span class="strike">{{ item.original | number:'1.2-2' }} THB</span>
                                            <span class="discount">-{{ item.discount }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bundle-detail-collapse" [class.open]="selectedOutboundBundleIndex === i">
                                    <div class="bundle-divider"></div>
                                    <div class="bundle-detail-inline">
                                        <div class="detail-row" *ngFor="let d of item.details">
                                            <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M4.125 6.875L5.25 8L7.875 5.375" stroke="#4F4F4F" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M6 11C8.48528 11 10.5 8.98528 10.5 6.5C10.5 4.01472 8.48528 2 6 2C3.51472 2 1.5 4.01472 1.5 6.5C1.5 8.98528 3.51472 11 6 11Z" stroke="#4F4F4F" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>                                                
                                            <span class="text">{{ d.description }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="currentOutboundBundleList.length > 4" style="margin-top: 12px; display: flex; justify-content: center;">
                            <button type="button" class="open-close-bundle-button" (click)="toggleShowAllOutbound()">
                                {{ showAllOutboundBundles ? ( 'BUNDLE_COLLAPSE' | translate ) : ( 'BUNDLE_EXPAND' | translate ) }}
                            </button>
                        </div>
                    </div>

                    <div class="service-bundle-inbound" *ngIf="visibleReturnBundles.length > 0">
                        <div class="service-bundle-header">
                            <span>{{ 'BUNDLE_SELECT' | translate }} <span *ngIf="isRoundTrip()" class="route-text">- {{ 'INBOUND' | translate }}</span></span>
                            <span class="muted">| {{ 'OPTIONAL_SERVICE' | translate }}</span>
                        </div>
                        <div class="bundle-list">
                            <div class="bundle-card"
                                *ngFor="let item of visibleReturnBundles; let i = index"
                                [class.active]="selectedReturnBundleByPassenger[selectedPassenger] === i"
                                (click)="selectReturnBundle(i)">
                                <div class="bundle-row">
                                    <div class="bundle-left">
                                        <div class="bundle-icon" [ngClass]="item.icon"></div>
                                        <div class="bundle-title">{{ item.title }}</div>
                                    </div>
                                    <div class="bundle-right">
                                        <div class="bundle-price">{{ item.price | number:'1.2-2' }} THB</div>
                                        <div class="bundle-original">
                                            <span class="strike">{{ item.original | number:'1.2-2' }} THB</span>
                                            <span class="discount">-{{ item.discount }}%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="bundle-detail-collapse" [class.open]="selectedReturnBundleIndex === i">
                                    <div class="bundle-divider"></div>
                                    <div class="bundle-detail-inline">
                                        <div class="detail-row" *ngFor="let d of item.details">
                                            <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M4.125 6.875L5.25 8L7.875 5.375" stroke="#4F4F4F" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M6 11C8.48528 11 10.5 8.98528 10.5 6.5C10.5 4.01472 8.48528 2 6 2C3.51472 2 1.5 4.01472 1.5 6.5C1.5 8.98528 3.51472 11 6 11Z" stroke="#4F4F4F" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>                                                
                                            <span class="text">{{ d.description }}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="currentReturnBundleList.length > 4" style="margin-top: 12px; display: flex; justify-content: center;">
                            <button type="button" class="open-close-bundle-button" (click)="toggleShowAllReturn()">
                                {{ showAllReturnBundles ? ( 'BUNDLE_COLLAPSE' | translate ) : ( 'BUNDLE_EXPAND' | translate ) }}
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="special-assistance-container" style="margin-top: 20px;">
                    <div class="main-assistance-header">
                        <div class="yellow-checkbox" [class.checked]="currentForm.get('needsSpecialAssistance')?.value === true" (click)="toggleMainAssistance()">
                            <div class="checkmark" *ngIf="currentForm.get('needsSpecialAssistance')?.value === true">✓</div>
                        </div>
                        <span class="main-title">{{ 'SPECIAL_ASSISTANCE_TITLE' | translate }}</span>
                    </div>
                    
                    <div class="assistance-options" *ngIf="currentForm.get('needsSpecialAssistance')?.value === true">
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('disabledVision')?.value === true" (click)="toggleOption('disabledVision')">
                                <div class="checkmark" *ngIf="currentForm.get('disabledVision')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_DISABLED_VISION' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('disabledHearing')?.value === true" (click)="toggleOption('disabledHearing')">
                                <div class="checkmark" *ngIf="currentForm.get('disabledHearing')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_DISABLED_HEARING' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('monk')?.value === true" (click)="toggleOption('monk')">
                                <div class="checkmark" *ngIf="currentForm.get('monk')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_MONK' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('nun')?.value === true" (click)="toggleOption('nun')">
                                <div class="checkmark" *ngIf="currentForm.get('nun')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_NUN' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('pregnantWoman')?.value === true" (click)="toggleOption('pregnantWoman')">
                                <div class="checkmark" *ngIf="currentForm.get('pregnantWoman')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_PREGNANT_WOMAN' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('wheelchairUser')?.value === true" (click)="toggleOption('wheelchairUser')">
                                <div class="checkmark" *ngIf="currentForm.get('wheelchairUser')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_WHEELCHAIR_USER' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('unaccompaniedMinor')?.value === true" (click)="toggleOption('unaccompaniedMinor')">
                                <div class="checkmark" *ngIf="currentForm.get('unaccompaniedMinor')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_UNACCOMPANIED_MINOR' | translate }}</span>
                        </div>
                        
                        <div class="assistance-option">
                            <div class="white-checkbox" [class.checked]="currentForm.get('other')?.value === true" (click)="toggleOption('other')">
                                <div class="checkmark" *ngIf="currentForm.get('other')?.value === true">✓</div>
                            </div>
                            <span>{{ 'ASSISTANCE_OTHER' | translate }}<input matInput formControlName="otherReason" [placeholder]="'ASSISTANCE_OTHER_PLACEHOLDER' | translate"></span>
                        </div>
                        
                        <div class="contact-info">
                            <span>{{ 'CONTACT_SUPPORT_TEXT' | translate }}</span>
                        </div>
                    </div>
                </div>
            </form>

            <div class="footer-container-background"></div>
            <div class="footer-container">
                <div class="footer-container-text">
                    <!-- <u *ngIf="selectedPassenger < numberPassenger" (click)="checkPassengerValid(selectedPassenger)">{{
                        'NEXT_PASSENGER' | translate }}</u> -->
                    <!-- <u *ngIf="selectedPassenger === numberPassenger"></u> -->
                    <!-- <div *ngIf="selectedPassenger < numberPassenger"
                        style="display: flex; align-items: center; justify-content: center;">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2.5 8H13.5" stroke="#262626" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M9 3.5L13.5 8L9 12.5" stroke="#262626" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div> -->
                </div>
                <button class="next-passenger-button" *ngIf="selectedPassenger < numberPassenger && !isAllPassengersValid()" (click)="checkPassengerValid(selectedPassenger)" [ngClass]="{'yellow-button': passengerForms[selectedPassenger].valid}">
                    {{ 'NEXT_PASSENGER' | translate }}
                </button>
                <button class="next-passenger-button" *ngIf="selectedPassenger === numberPassenger" (click)="nextStep()"  [ngClass]="{'yellow-button': isAllPassengersValid()}">
                    {{ 'CONFIRM' | translate }}
                </button>
                <button class="next-passenger-button" *ngIf="selectedPassenger < numberPassenger && isAllPassengersValid()" (click)="nextStep()"  [ngClass]="{'yellow-button': isAllPassengersValid()}">
                    {{ 'CONFIRM' | translate }}
                </button>
                <!-- <button mat-raised-button color="primary" [ngClass]="{'yellow-button': isAllPassengersValid()}"
                    (click)="nextStep()" [disabled]="!isAllPassengersValid()" *ngIf="selectedPassenger === numberPassenger">
                    {{ 'CONFIRM' | translate }}
                </button> -->
                <!-- <button mat-raised-button color="primary" [ngClass]="{'yellow-button': isAllPassengersValid()}"
                    (click)="nextStep()">
                    ยืนยัน
                </button> -->
            </div>
        </div>
    </div>
</div>